# Функция импорта маршрутов

## Описание
Система поддерживает массовый импорт маршрутов через загрузку JSON файлов.

## Формат файла

### JSON
Файл должен содержать массив объектов со следующей структурой:

```json
[
  {
    "name": "Название маршрута",
    "coordinates": {
      "x": 100,
      "y": 200.5
    },
    "from": {
      "x": 10.5,
      "y": 20,
      "z": 30,
      "name": "Начальная точка"
    },
    "to": {
      "x": 40.5,
      "y": 50,
      "z": 60,
      "name": "Конечная точка"
    },
    "distance": 150,
    "rating": 5
  }
]
```

### Правила валидации
- `name` - обязательное поле, не может быть пустым
- `coordinates` - обязательное поле
  - `x` - целое число (Long)
  - `y` - число с плавающей точкой (Float), должно быть > -488
- `from` - обязательное поле (начальная локация)
  - `x` - число с плавающей точкой (Double)
  - `y` - целое число (Integer)
  - `z` - целое число (Long)
  - `name` - строка
- `to` - необязательное поле (конечная локация), та же структура что и `from`
- `distance` - обязательное поле, целое число (Long), должно быть > 1
- `rating` - необязательное поле, целое число (Long), если указано - должно быть > 0

## Использование

1. Откройте страницу "Импорт маршрутов" в веб-интерфейсе
2. Выберите файл в формате JSON
3. Нажмите кнопку "Загрузить"
4. При успешном импорте будет показано количество добавленных объектов
5. При ошибке будет показано сообщение об ошибке

## Транзакционность

Импорт выполняется в рамках одной транзакции. Если при обработке файла возникает ошибка:
- Не будет создан ни один объект
- Операция будет помечена как FAILED
- Будет сохранено сообщение об ошибке

## История импорта

### Для обычных пользователей
- Видны только собственные операции импорта

### Для администраторов
- Видны все операции импорта всех пользователей

### Информация в истории
- ID операции
- Статус (SUCCESS, FAILED, IN_PROGRESS)
- Пользователь, запустивший операцию
- Количество добавленных объектов (только для успешных операций)
- Дата и время операции
- Сообщение об ошибке (для неуспешных операций)

## Пример использования

Файл `example-import.json` содержит пример данных для импорта.
